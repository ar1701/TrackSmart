<%- include('partials/header', { title: 'Place Order - TrackSmart', currentPage:
'place-order' }) %>

<!-- Page Header Start -->
<div class="container-fluid page-header py-5" style="margin-bottom: 6rem">
  <div class="container py-5">
    <h1 class="display-3 text-white mb-3 animated slideInDown">Place Order</h1>
    <nav aria-label="breadcrumb animated slideInDown">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a class="text-white" href="#">Home</a></li>
        <li class="breadcrumb-item">
          <a class="text-white" href="#">Pages</a>
        </li>
        <li class="breadcrumb-item text-white active" aria-current="page">
          Place Order
        </li>
      </ol>
    </nav>
  </div>
</div>
<!-- Page Header End -->

<!-- Quote Start -->
<div class="container-xxl">
  <div class="container">
    <div class="row g-5 align-items-center">
      <div class="col-lg-5 wow fadeInUp" data-wow-delay="0.1s">
        <h6 class="text-secondary text-uppercase mb-3">Order</h6>
        <h1 class="mb-5">Place our Order!</h1>
        <p class="mb-5">
      Placing your shipment order with TrackSmart is quick and effortless. Just fill in the sender and receiver details, pickup and delivery addresses, and package dimensions — and we'll automatically match you with the most suitable logistics carrier. Whether it's a small parcel or a heavy freight, we've got the right delivery partner ready for you.
        </p>

        <div class="d-flex align-items-center">
          <i
            class="fa fa-headphones fa-2x flex-shrink-0 bg-primary p-3 text-white"
          ></i>
          <div class="ps-4">
            <h6>Call for any query!</h6>
            <h3 class="text-primary m-0">9602512340</h3>
          </div>
        </div>
      </div>
      <div class="col-lg-7">
        <div class="bg-light text-center p-5 wow fadeIn" data-wow-delay="0.5s">
          <form id="shippingForm">
            <div class="row g-3">
              <div class="col-12 col-sm-6">
                <input
                  type="text"
                  class="form-control border-0"
                  placeholder="Sender Name"
                  name="senderName"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-6">
                <input
                  type="text"
                  class="form-control border-0"
                  placeholder="Receiver Name"
                  name="receiverName"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-6">
                <input
                  type="text"
                  class="form-control border-0"
                  placeholder="Pickup Address"
                  name="pickup"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-6">
                <input
                  type="text"
                  class="form-control border-0"
                  placeholder="Delivery Address"
                  name="delivery"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-4">
                <input
                  type="number"
                  class="form-control border-0"
                  placeholder="Box Length (cm)"
                  name="length"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-4">
                <input
                  type="number"
                  class="form-control border-0"
                  placeholder="Box Width (cm)"
                  name="width"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-4">
                <input
                  type="number"
                  class="form-control border-0"
                  placeholder="Box Height (cm)"
                  name="height"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-6">
                <input
                  type="number"
                  class="form-control border-0"
                  placeholder="Weight (kg)"
                  name="weight"
                  required
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-sm-6">
                <input
                  type="number"
                  class="form-control border-0"
                  placeholder="Package Value (₹)"
                  name="value"
                  style="height: 55px"
                />
              </div>
              <div class="col-12">
                <textarea
                  class="form-control border-0"
                  placeholder="Any special instructions?"
                  rows="3"
                  name="instructions"
                ></textarea>
              </div>

              <!-- Recommended Carrier Box (populated via JavaScript logic) -->
              <div class="col-12">
                <div
                  class="bg-white p-3 text-start border border-primary rounded"
                >
                  <h5>
                    Recommended Carrier:
                    <span id="carrierName" class="text-primary">--</span>
                  </h5>
                  <p class="mb-0">
                    Based on your package size, weight, and route.
                  </p>
                </div>
              </div>

              <div class="col-12">
                <button class="btn btn-primary w-100 py-3" type="submit">
                  Place Order
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Quote End -->


<!-- Back to Top -->
<a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-0 back-to-top"
  ><i class="bi bi-arrow-up"></i
></a>
<script>
  document
    .getElementById("shippingForm")
    .addEventListener("submit", function (e) {
      e.preventDefault();

      const length = parseFloat(
        document.querySelector("[name='length']").value
      );
      const width = parseFloat(document.querySelector("[name='width']").value);
      const height = parseFloat(
        document.querySelector("[name='height']").value
      );
      const weight = parseFloat(
        document.querySelector("[name='weight']").value
      );
      const volume = (length * width * height) / 5000; // Volumetric weight formula (common)

      let carrier = "";

      if (weight > 20 || volume > 25) {
        carrier = "BlueDart Logistics (Heavy Freight)";
      } else if (weight < 5 && volume < 10) {
        carrier = "Shiprocket Lite";
      } else {
        carrier = "Delhivery Standard";
      }

      document.getElementById("carrierName").innerText = carrier;

      alert("Order placed successfully with " + carrier + "!");
      // Optionally post to backend here
    });
</script>

<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="lib/wow/wow.min.js"></script>
<script src="lib/easing/easing.min.js"></script>
<script src="lib/waypoints/waypoints.min.js"></script>
<%- include('partials/footer') %>
