<%- include('partials/header', { title: 'Update Status - TrackSmart',
currentPage: 'update-status' }) %>

<!-- Page Header Start -->
<div class="container-fluid page-header py-5" style="margin-bottom: 6rem">
  <div class="container py-5">
    <h1 class="display-3 text-white mb-3 animated slideInDown">
      Update Status
    </h1>
    <nav aria-label="breadcrumb animated slideInDown">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a class="text-white" href="#">Home</a></li>
        <li class="breadcrumb-item">
          <a class="text-white" href="#">Pages</a>
        </li>
        <li class="breadcrumb-item text-white active" aria-current="page">
          Update Status
        </li>
      </ol>
    </nav>
  </div>
</div>
<!-- Page Header End -->

<!-- Testimonial Start -->
<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
  <div class="container">
    <div class="container">
      <h2 class="text-center mb-4">Update Parcel Status</h2>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="statusUpdateForm">
            <div class="mb-3">
              <label for="trackingId" class="form-label">Tracking ID</label>
              <input
                type="text"
                class="form-control"
                id="trackingId"
                placeholder="Enter Tracking ID"
                required
              />
            </div>
            <div class="mb-3">
              <label for="newStatus" class="form-label">New Status</label>
              <select class="form-select" id="newStatus" required>
                <option value="">Select Status</option>
                <option value="Shipped">Shipped</option>
                <option value="In Transit">In Transit</option>
                <option value="Out for Delivery">Out for Delivery</option>
                <option value="Delivered">Delivered</option>
                <option value="Delayed">Delayed</option>
                <option value="Returned">Returned</option>
              </select>
            </div>
            <div class="d-grid">
              <button type="submit" class="btn btn-primary">
                Update Status
              </button>
            </div>
          </form>
          <div id="updateMessage" class="mt-3"></div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Testimonial End -->

<!-- Back to Top -->
<a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-0 back-to-top"
  ><i class="bi bi-arrow-up"></i
></a>

<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="lib/wow/wow.min.js"></script>
<script src="lib/easing/easing.min.js"></script>
<script src="lib/waypoints/waypoints.min.js"></script>
<script src="lib/counterup/counterup.min.js"></script>
<script src="lib/owlcarousel/owl.carousel.min.js"></script>

<!-- Template Javascript -->
<script src="js/main.js"></script>
<script>
  const dummyShipments = [
    { id: "PKG123", user: "Ankit Sharma", status: "Shipped" },
    { id: "PKG456", user: "Priya Verma", status: "In Transit" },
    { id: "PKG789", user: "Rajesh Kumar", status: "Delivered" },
  ];

  document
    .getElementById("statusUpdateForm")
    .addEventListener("submit", function (e) {
      e.preventDefault();

      const id = document.getElementById("trackingId").value.trim();
      const newStatus = document.getElementById("newStatus").value;
      const messageDiv = document.getElementById("updateMessage");

      const shipment = dummyShipments.find((pkg) => pkg.id === id);

      if (shipment) {
        shipment.status = newStatus;
        messageDiv.innerHTML = `<div class="alert alert-success">Status updated to <strong>${newStatus}</strong> for <strong>${id}</strong></div>`;
      } else {
        messageDiv.innerHTML = `<div class="alert alert-danger">Tracking ID <strong>${id}</strong> not found.</div>`;
      }

      document.getElementById("statusUpdateForm").reset();
    });
</script>

<%- include('partials/footer') %>
