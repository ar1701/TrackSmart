<%- include('partials/header', { title: 'Onboard Seller - TrackSmart',
currentPage: 'onboard-seller' }) %>

<!-- Page Header Start -->
<div class="container-fluid page-header py-5" style="margin-bottom: 6rem">
  <div class="container py-5">
    <h1 class="display-3 text-white mb-3 animated slideInDown">
      Onboard Seller
    </h1>
    <nav aria-label="breadcrumb animated slideInDown">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a class="text-white" href="#">Home</a></li>
        <li class="breadcrumb-item">
          <a class="text-white" href="#">Pages</a>
        </li>
        <li class="breadcrumb-item text-white active" aria-current="page">
          Onboard Seller
        </li>
      </ol>
    </nav>
  </div>
</div>
<!-- Page Header End -->

<!-- Seller Onboarding Start -->
<div class="container-xxl">
  <div class="container">
    <div class="text-center mb-5 wow fadeInUp" data-wow-delay="0.1s">
      <h6 class="text-secondary text-uppercase">Onboard Seller</h6>
      <h1 class="mb-3">Register a New Seller</h1>
      <p>
        Complete the form below to onboard a seller and manage their shipments
        via our platform.
      </p>
    </div>
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="bg-light p-5 wow fadeInUp" data-wow-delay="0.3s">
          <!-- Success/Error Messages -->
          <div id="alertContainer" class="mb-3" style="display: none">
            <div id="alertMessage" class="alert" role="alert"></div>
          </div>

          <form id="sellerOnboardForm">
            <div class="row g-3">
              <div class="col-12 col-md-6">
                <input
                  type="text"
                  name="name"
                  class="form-control border-0"
                  placeholder="Seller Name"
                  style="height: 55px"
                  required
                />
              </div>
              <div class="col-12 col-md-6">
                <input
                  type="email"
                  name="email"
                  class="form-control border-0"
                  placeholder="Email Address"
                  style="height: 55px"
                  required
                />
              </div>
              <div class="col-12 col-md-6">
                <input
                  type="text"
                  name="phone"
                  class="form-control border-0"
                  placeholder="Phone Number"
                  style="height: 55px"
                  required
                />
              </div>
              <div class="col-12 col-md-6">
                <input
                  type="text"
                  name="businessName"
                  class="form-control border-0"
                  placeholder="Business Name"
                  style="height: 55px"
                  required
                />
              </div>
              <div class="col-12">
                <textarea
                  name="businessAddress"
                  class="form-control border-0"
                  placeholder="Business Address"
                  rows="2"
                  required
                ></textarea>
              </div>
              <div class="col-12 col-md-6">
                <input
                  type="text"
                  name="gstNumber"
                  class="form-control border-0"
                  placeholder="GST Number"
                  style="height: 55px"
                />
              </div>
              <div class="col-12 col-md-6">
                <input
                  type="text"
                  name="website"
                  class="form-control border-0"
                  placeholder="Website (Optional)"
                  style="height: 55px"
                />
              </div>
              <div class="col-12">
                <textarea
                  name="productCategories"
                  class="form-control border-0"
                  placeholder="Product Categories (e.g. electronics, clothing, home decor)"
                  rows="2"
                ></textarea>
              </div>
              <div class="col-12">
                <textarea
                  name="notes"
                  class="form-control border-0"
                  placeholder="Additional Notes or Requirements"
                  rows="2"
                ></textarea>
              </div>
              <div class="col-12">
                <button
                  class="btn btn-primary w-100 py-3"
                  type="submit"
                  id="submitBtn"
                >
                  <span id="submitText">Submit Seller Application</span>
                  <span
                    id="submitSpinner"
                    class="spinner-border spinner-border-sm ms-2"
                    style="display: none"
                  ></span>
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Seller Onboarding End -->

<!-- Fact Start -->
<div class="container-xxl py-5">
  <div class="container py-5">
    <div class="row g-5">
      <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s">
        <h6 class="text-secondary text-uppercase mb-3">Some Facts</h6>
        <h1 class="mb-5">#1 Place To Manage All Of Your Shipments</h1>
        <p class="mb-5">
          Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu
          diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet
          lorem sit clita duo justo magna dolore erat amet
        </p>
        <div class="d-flex align-items-center">
          <i
            class="fa fa-headphones fa-2x flex-shrink-0 bg-primary p-3 text-white"
          ></i>
          <div class="ps-4">
            <h6>Call for any query!</h6>
            <h3 class="text-primary m-0">+012 345 6789</h3>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="row g-4 align-items-center">
          <div class="col-sm-6">
            <div class="bg-primary p-4 mb-4 wow fadeIn" data-wow-delay="0.3s">
              <i class="fa fa-users fa-2x text-white mb-3"></i>
              <h2 class="text-white mb-2" data-toggle="counter-up">1234</h2>
              <p class="text-white mb-0">Happy Clients</p>
            </div>
            <div class="bg-secondary p-4 wow fadeIn" data-wow-delay="0.5s">
              <i class="fa fa-ship fa-2x text-white mb-3"></i>
              <h2 class="text-white mb-2" data-toggle="counter-up">1234</h2>
              <p class="text-white mb-0">Complete Shipments</p>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="bg-success p-4 wow fadeIn" data-wow-delay="0.7s">
              <i class="fa fa-star fa-2x text-white mb-3"></i>
              <h2 class="text-white mb-2" data-toggle="counter-up">1234</h2>
              <p class="text-white mb-0">Customer Reviews</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Fact End -->

<!-- Feature Start -->
<div class="container-fluid overflow-hidden py-5 px-lg-0">
  <div class="container feature py-5 px-lg-0">
    <div class="row g-5 mx-lg-0">
      <div class="col-lg-6 feature-text wow fadeInUp" data-wow-delay="0.1s">
        <h6 class="text-secondary text-uppercase mb-3">Our Features</h6>
        <h1 class="mb-5">We Are Trusted Logistics Company Since 1990</h1>
        <div class="d-flex mb-5 wow fadeInUp" data-wow-delay="0.3s">
          <i class="fa fa-globe text-primary fa-3x flex-shrink-0"></i>
          <div class="ms-4">
            <h5>Worldwide Service</h5>
            <p class="mb-0">
              Diam dolor ipsum sit amet eos erat ipsum lorem sed stet lorem sit
              clita duo justo magna erat amet
            </p>
          </div>
        </div>
        <div class="d-flex mb-5 wow fadeIn" data-wow-delay="0.5s">
          <i class="fa fa-shipping-fast text-primary fa-3x flex-shrink-0"></i>
          <div class="ms-4">
            <h5>On Time Delivery</h5>
            <p class="mb-0">
              Diam dolor ipsum sit amet eos erat ipsum lorem sed stet lorem sit
              clita duo justo magna erat amet
            </p>
          </div>
        </div>
        <div class="d-flex mb-0 wow fadeInUp" data-wow-delay="0.7s">
          <i class="fa fa-headphones text-primary fa-3x flex-shrink-0"></i>
          <div class="ms-4">
            <h5>24/7 Telephone Support</h5>
            <p class="mb-0">
              Diam dolor ipsum sit amet eos erat ipsum lorem sed stet lorem sit
              clita duo justo magna erat amet
            </p>
          </div>
        </div>
      </div>
      <div
        class="col-lg-6 pe-lg-0 wow fadeInRight"
        data-wow-delay="0.1s"
        style="min-height: 400px"
      >
        <div class="position-relative h-100">
          <img
            class="position-absolute img-fluid w-100 h-100"
            src="img/feature.jpg"
            style="object-fit: cover"
            alt=""
          />
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Feature End -->

<!-- Back to Top -->
<a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-0 back-to-top"
  ><i class="bi bi-arrow-up"></i
></a>

<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<script>
  // Seller onboarding form handling
  document
    .getElementById("sellerOnboardForm")
    .addEventListener("submit", async function (e) {
      e.preventDefault();

      const submitBtn = document.getElementById("submitBtn");
      const submitText = document.getElementById("submitText");
      const submitSpinner = document.getElementById("submitSpinner");
      const alertContainer = document.getElementById("alertContainer");
      const alertMessage = document.getElementById("alertMessage");

      // Show loading state
      submitBtn.disabled = true;
      submitText.textContent = "Submitting...";
      submitSpinner.style.display = "inline-block";
      alertContainer.style.display = "none";

      try {
        // Collect form data
        const formData = new FormData(this);
        const sellerData = {
          name: formData.get("name"),
          email: formData.get("email"),
          phone: formData.get("phone"),
          businessName: formData.get("businessName"),
          businessAddress: formData.get("businessAddress"),
          gstNumber: formData.get("gstNumber"),
          website: formData.get("website"),
          productCategories: formData.get("productCategories"),
          notes: formData.get("notes"),
        };

        // Submit to API
        const response = await fetch("/api/sellers", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(sellerData),
        });

        const result = await response.json();

        if (result.success) {
          // Show success message
          alertMessage.className = "alert alert-success";
          alertMessage.innerHTML = `
        <i class="fas fa-check-circle me-2"></i>
        <strong>Success!</strong> Your seller application has been submitted successfully. 
        Your application ID is: <strong>${result.data.seller.sellerId}</strong>
        <br>You will be notified once your application is reviewed.
      `;
          alertContainer.style.display = "block";

          // Reset form
          this.reset();

          // Scroll to success message
          alertContainer.scrollIntoView({ behavior: "smooth" });
        } else {
          throw new Error(result.message || "Failed to submit application");
        }
      } catch (error) {
        console.error("Error submitting seller application:", error);

        // Show error message
        alertMessage.className = "alert alert-danger";
        alertMessage.innerHTML = `
      <i class="fas fa-exclamation-triangle me-2"></i>
      <strong>Error!</strong> ${error.message}
    `;
        alertContainer.style.display = "block";
        alertContainer.scrollIntoView({ behavior: "smooth" });
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        submitText.textContent = "Submit Seller Application";
        submitSpinner.style.display = "none";
      }
    });
</script>

<%- include('partials/footer') %>
